"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[426],{7426:(Pt,h,m)=>{m.r(h),m.d(h,{DashboardModule:()=>Tt});var d=m(177),P=m(4341),M=m(6525),o=m(4438),p=m(2365),E=m(563),u=m(8542);let oe=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=o.$C({type:n});static \u0275inj=o.G2t({imports:[d.MD,p.iI,E.Z,u.S,p.iI,u.S]})}return n})();var re=m(6432),le=m(1141),ce=m(5756),y=m(5779),me=m(8439),pe=m(8263),de=m(2423),ue=m(8807);let ft=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=o.$C({type:n});static \u0275inj=o.G2t({imports:[d.MD,p.iI,u.S,y.Gg,me.R,pe.D,de.D,ue.v,p.iI,u.S,y.Gg]})}return n})();var T=m(467),It=m(7693),ht=m(5373);const I=()=>({width:"2.5rem",height:"2.5rem"}),vt=n=>[n];function xt(n,s){if(1&n&&(o.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"span",5),o.EFF(5,"Order Hari Ini"),o.k0s(),o.j41(6,"div",6),o.EFF(7),o.k0s()(),o.j41(8,"div",12),o.nrm(9,"i",13),o.k0s()()()()),2&n){const e=o.XpG();o.R7$(7),o.SpI(" ",e.total_today," "),o.R7$(),o.Y8G("ngStyle",o.lJ4(2,I))}}function yt(n,s){if(1&n&&(o.j41(0,"div",2)(1,"a",14)(2,"div",3)(3,"div",4)(4,"div")(5,"span",5),o.EFF(6),o.k0s(),o.j41(7,"div",6),o.EFF(8),o.k0s()(),o.j41(9,"div",15),o.nrm(10,"i"),o.k0s()()()()()),2&n){const e=s.$implicit;o.R7$(),o.Y8G("routerLink",o.eq3(11,vt,e.routerLink)),o.R7$(5),o.JRh(e.label),o.R7$(2),o.JRh(e.count||e.description),o.R7$(),o.ZvI("flex align-items-center justify-content-center ",e.bgClass," border-round"),o.Y8G("ngStyle",o.lJ4(13,I)),o.R7$(),o.STu("",e.icon," ",e.iconClass," text-xl")}}let bt=(()=>{class n{constructor(e,t){this.layoutService=e,this.api=t,this.dashboardCards=[{label:"User",icon:"pi pi-user",count:4,bgClass:"bg-cyan-100",iconClass:"text-cyan-500",routerLink:"/users",roles:["admin","manager"]},{label:"Transactions",icon:"pi pi-table",description:"Admin Transactions",bgClass:"bg-purple-100",iconClass:"text-purple-500",routerLink:"/invoices",roles:["admin","manager"]},{label:"Transactions",icon:"pi pi-table",description:"User Transactions",bgClass:"bg-purple-100",iconClass:"text-purple-500",routerLink:"/invoices-user",roles:["admin","manager","user"]}],this.filteredCards=[]}ngOnInit(){const e=localStorage.getItem("_userInfo");if(e){const i=JSON.parse(e)?.role_perm;this.filteredCards=this.dashboardCards.filter(a=>a.roles.includes(i)),this.userRole=i}this.get_total(),this.get_total_today()}get_total(){var e=this;return(0,T.A)(function*(){e.api.get_invoices().then(t=>{e.total_item=t.count}).catch(t=>{console.log(t)})})()}get_total_today(){var e=this;return(0,T.A)(function*(){e.api.countToday_post().then(t=>{e.total_today=t.data}).catch(t=>{console.log(t)})})()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(o.rXU(It.Y),o.rXU(ht.G))}}static{this.\u0275cmp=o.VBU({type:n,selectors:[["ng-component"]],decls:16,vars:5,consts:[[1,"scalein","animation-duration-1000","animation-iteration"],[1,"grid"],[1,"col-12","lg:col-6","xl:col-3"],[1,"card","mb-0"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],[1,"text-900","font-medium","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-shopping-cart","text-blue-500","text-xl"],["class","col-12 lg:col-6 xl:col-3",4,"ngIf"],["class","col-12 lg:col-6 xl:col-3",4,"ngFor","ngForOf"],[1,"col-12","xl:col-6"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",3,"ngStyle"],[1,"pi","pi-chart-bar","text-orange-500","text-xl"],[3,"routerLink"],[3,"ngStyle"]],template:function(t,i){1&t&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"span",5),o.EFF(7,"Data Posed To User!"),o.k0s(),o.j41(8,"div",6),o.EFF(9),o.k0s()(),o.j41(10,"div",7),o.nrm(11,"i",8),o.k0s()()()(),o.DNE(12,xt,10,3,"div",9)(13,yt,11,14,"div",10),o.nrm(14,"div",11)(15,"div",11),o.k0s()()),2&t&&(o.R7$(9),o.SpI(" ",i.total_item," "),o.R7$(),o.Y8G("ngStyle",o.lJ4(4,I)),o.R7$(2),o.Y8G("ngIf","admin"===i.userRole||"manager"===i.userRole),o.R7$(),o.Y8G("ngForOf",i.filteredCards))},dependencies:[d.Sq,d.bT,d.B3,p.Wk],encapsulation:2})}}return n})(),Ct=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=o.$C({type:n})}static{this.\u0275inj=o.G2t({imports:[p.iI.forChild([{path:"",component:bt}]),p.iI]})}}return n})(),Tt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=o.$C({type:n})}static{this.\u0275inj=o.G2t({imports:[d.MD,P.YN,M.F,oe,re.bG,ce.y,ft,le.tm,Ct]})}}return n})()}}]);